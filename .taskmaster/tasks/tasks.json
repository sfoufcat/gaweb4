{
  "master": {
    "tasks": [
      {
        "id": "179",
        "title": "Create Program Dashboard API Endpoint",
        "description": "Implement GET /api/programs/[programId]/dashboard endpoint to provide aggregated dashboard data for program-wide view",
        "details": "Create API endpoint that aggregates data from enrollments, content_progress, and task_completions tables. Calculate stats including active clients count, average progress, streak data, content completion rates. Implement logic to identify members needing attention (below 50% completion OR idle > 2 days) and top performers (top 3 by completion % + streak). Include upcoming items like scheduled calls and forms. Use TypeScript interface ProgramDashboardData as defined in PRD. Handle both individual and cohort program types with appropriate filtering.",
        "testStrategy": "Unit tests for data aggregation logic, integration tests for database queries, API endpoint tests with mock data covering edge cases like empty programs, programs with no active clients, and programs with all clients performing well",
        "priority": "high",
        "dependencies": [],
        "status": "in-progress",
        "subtasks": [],
        "updatedAt": "2026-01-16T15:04:58.656Z"
      },
      {
        "id": "180",
        "title": "Create Client Dashboard API Endpoint",
        "description": "Implement GET /api/programs/[programId]/dashboard/client/[clientId] endpoint for individual client progress view",
        "details": "Create API endpoint for individual client dashboard data including personal stats (overall progress, current week, streaks, content completion, calls completed). Implement week-by-week progress calculation with status indicators (completed/current/future). Build current week content structure showing modules with lessons and articles with completion status. Calculate engagement insights including re-watched content, re-read articles, most active days/hours, and pattern analysis. Use TypeScript interface ClientDashboardData as specified in PRD.",
        "testStrategy": "Unit tests for individual client data aggregation, integration tests for client-specific queries, API tests with various client states (new, progressing, completed), edge case testing for clients with no activity or missing data",
        "priority": "high",
        "dependencies": [],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": "181",
        "title": "Create DashboardStatsRow Component",
        "description": "Build reusable 4-card stats row component for displaying key program metrics",
        "details": "Create React component with 4-card grid layout using existing design tokens. Each card shows icon + large number (font-albert font-semibold text-2xl) + label + subtext. Implement responsive design: 2x2 grid on mobile, 4x1 on desktop. Use bg-white dark:bg-[#11141b] for cards with border border-[#e1ddd8] dark:border-[#262b35] rounded-2xl. Include proper TypeScript props interface for stats data. Add loading skeleton states and handle undefined/null values gracefully.",
        "testStrategy": "Component unit tests with React Testing Library, visual regression tests for responsive layouts, accessibility tests for screen readers, prop validation tests with various data types and edge cases",
        "priority": "medium",
        "dependencies": [],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": "182",
        "title": "Create NeedsAttentionCard Component",
        "description": "Build individual member card component for displaying clients/members requiring attention",
        "details": "Create React component showing avatar + name + week + progress percentage + days idle. Include status indicator using text-amber-500 with ‚ö†Ô∏è icon for warnings. Add [Nudge] and [View ‚Üí] action buttons. Use rounded full avatars with fallback initials. Apply shadow-sm for subtle depth. Handle different attention reasons (low_progress, idle, both) with appropriate styling. Implement click handlers for actions with proper event handling.",
        "testStrategy": "Component tests for different attention reasons, interaction tests for button clicks, accessibility tests for keyboard navigation, visual tests for avatar fallbacks and status indicators",
        "priority": "medium",
        "dependencies": [],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": "183",
        "title": "Create TopPerformerCard Component",
        "description": "Build component for displaying top performing clients with ranking badges",
        "details": "Create React component with rank badge (trophy/medal icons for 1st/2nd/3rd place). Display avatar + name + progress percentage + streak days. Include [View ‚Üí] action button. Use text-green-500 for success indicators and ‚úì checkmark icons. Implement ranking logic with appropriate trophy/medal icons (üèÜ for 1st, ü•à for 2nd, ü•â for 3rd). Apply consistent spacing with gap-4 between elements and existing card styling.",
        "testStrategy": "Component tests for different ranking positions, visual tests for trophy/medal icons, interaction tests for view button, edge case tests for tied rankings or missing data",
        "priority": "medium",
        "dependencies": [],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": "184",
        "title": "Create ContentCompletionList Component",
        "description": "Build component displaying program content items with completion progress bars",
        "details": "Create React component listing all program content (modules, articles, questionnaires) with progress bars. Use bg-brand-accent for progress fill and bg-[#e1ddd8] dark:bg-[#262b35] for track. Show X/Y completed count for each item. Add warning icon (text-amber-500 ‚ö†Ô∏è) for items with < 50% completion. Implement different content type icons and proper TypeScript interfaces for content data. Use space-y-6 between sections.",
        "testStrategy": "Component tests for different content types, progress bar calculation tests, warning indicator tests for low completion rates, accessibility tests for progress bar labels",
        "priority": "medium",
        "dependencies": [],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": "185",
        "title": "Create WeekProgressList Component",
        "description": "Build vertical week progress list component for client view showing week-by-week completion",
        "details": "Create React component with vertical list of weeks W1-W12 (or totalWeeks from program). Show progress bar + percentage for each week. Use checkmark (‚úì) for completed weeks, arrow (‚Üí) for current week, collapsed state for future weeks. Implement status indicators: completed (text-green-500), current (highlighted), future (muted). Add expand/collapse functionality for long programs. Use consistent progress bar styling matching other components.",
        "testStrategy": "Component tests for different week statuses, expand/collapse functionality tests, progress calculation tests, edge case tests for programs with varying week counts",
        "priority": "medium",
        "dependencies": [],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": "186",
        "title": "Create CurrentWeekContent Component",
        "description": "Build tree view component showing current week's modules, lessons, and articles with completion status",
        "details": "Create React component with tree view structure for modules containing lessons. Show checkmark + completion date for completed items, empty circle for not started items. Include articles section with read status indicators. Implement collapsible/expandable tree nodes. Use proper indentation and connecting lines for tree structure. Add completion date formatting and status icons (‚úì for completed, ‚óã for not started). Apply consistent spacing and typography.",
        "testStrategy": "Component tests for tree structure rendering, expand/collapse functionality tests, completion status display tests, date formatting tests, accessibility tests for tree navigation",
        "priority": "medium",
        "dependencies": [],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": "187",
        "title": "Create EngagementInsights Component",
        "description": "Build component displaying client engagement patterns including re-watched content and activity insights",
        "details": "Create React component showing re-watched content with counts, re-read articles with counts, most active days/times, and pattern insights. Implement cards for each insight type with appropriate icons and styling. Add AI-generated or rule-based pattern text display. Use consistent card styling with existing design tokens. Include empty states for clients with no engagement data. Format time and day data in user-friendly format.",
        "testStrategy": "Component tests for different engagement data scenarios, empty state tests, pattern text display tests, time/day formatting tests, accessibility tests for insight cards",
        "priority": "medium",
        "dependencies": [],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": "188",
        "title": "Create UpcomingSection Component",
        "description": "Build component for displaying upcoming calls, forms, and week unlocks with action buttons",
        "details": "Create React component listing upcoming items (calls, forms, week unlocks) with appropriate action buttons ([Reschedule], [Send Reminder]). Implement date formatting and countdown display. Add different icons for different item types. Include submission count display for forms (X/Y submitted). Handle action button click events with proper event handlers. Use consistent button styling and spacing with gap-4 between items.",
        "testStrategy": "Component tests for different upcoming item types, action button interaction tests, date formatting tests, countdown display tests, edge case tests for overdue items",
        "priority": "medium",
        "dependencies": [],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": "189",
        "title": "Create ClientCohortSelector Component",
        "description": "Build unified dropdown selector component for switching between clients/cohorts with URL state sync",
        "details": "Create React dropdown component with avatar/icon display for 1:1 programs (client selector) and cohort programs (cohort selector). Implement 'All Clients/Cohorts' default option with separator line. Show client progress (Week X ¬∑ Y%) and cohort info (X members ¬∑ Week Y) in dropdown options. Add status indicators (‚ö†Ô∏è for low progress). Implement URL state synchronization for clientId/cohortId parameters. Use proper TypeScript interfaces and handle both program types with conditional rendering.",
        "testStrategy": "Component tests for both program types, dropdown interaction tests, URL state sync tests, status indicator tests, accessibility tests for keyboard navigation and screen readers",
        "priority": "high",
        "dependencies": [],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": "190",
        "title": "Create ProgramDashboard Container Component",
        "description": "Build main dashboard container component with view switching logic and state management",
        "details": "Create main React container component that orchestrates all dashboard views. Implement view switching logic between program-wide, individual client, and cohort views based on selector state. Add loading states using skeleton components, error handling with user-friendly messages, and data fetching with proper error boundaries. Integrate all child components with proper prop passing and state management. Handle URL parameter changes and sync with component state. Implement responsive layout with proper spacing (space-y-6 between sections).",
        "testStrategy": "Integration tests for view switching, loading state tests, error handling tests, URL parameter sync tests, responsive layout tests, end-to-end tests for complete user flows",
        "priority": "high",
        "dependencies": [
          "179",
          "180",
          "181",
          "182",
          "183",
          "184",
          "185",
          "186",
          "187",
          "188",
          "189"
        ],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": "191",
        "title": "Integrate Dashboard into CoachProgramsTab",
        "description": "Replace existing ProgramOverviewTab with new ProgramDashboard and implement URL state persistence",
        "details": "Replace ProgramOverviewTab component with new ProgramDashboard in CoachProgramsTab. Implement clientId/cohortId URL state management that persists across Overview ‚Üî Content tab switches. Update URL structure to match specification: ?tab=programs&programId=xyz&viewMode=overview&clientId=abc. Ensure selector state is maintained when switching between tabs. Add proper route handling and parameter validation. Update navigation logic to handle new URL parameters.",
        "testStrategy": "Integration tests for tab switching with state persistence, URL parameter tests, navigation tests between Overview and Content tabs, edge case tests for invalid clientId/cohortId parameters",
        "priority": "high",
        "dependencies": [
          "190"
        ],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": "192",
        "title": "Implement Nudge Action Functionality",
        "description": "Add nudge action capability to send messages or notifications to clients needing attention",
        "details": "Implement nudge action functionality triggered from NeedsAttentionCard component. Create modal or inline action interface for sending chat messages or notifications to clients. Add API endpoint for sending nudges with proper message templates. Implement success feedback with toast notifications or inline confirmation. Add rate limiting to prevent spam and track nudge history. Include message customization options and predefined templates for common scenarios (low progress, idle client).",
        "testStrategy": "Unit tests for nudge API endpoint, integration tests for message sending, UI tests for modal/inline action, rate limiting tests, success feedback tests, edge case tests for failed message delivery",
        "priority": "medium",
        "dependencies": [
          "182",
          "190"
        ],
        "status": "pending",
        "subtasks": []
      }
    ],
    "metadata": {
      "version": "1.0.0",
      "lastModified": "2026-01-16T15:04:58.657Z",
      "taskCount": 14,
      "completedCount": 0,
      "tags": [
        "master"
      ]
    }
  }
}